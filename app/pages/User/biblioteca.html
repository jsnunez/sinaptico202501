<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sinaptico - Innovaci√≥n Abierta</title>

    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>

    <link rel="stylesheet" href="styles/innovacion.css">
    <link rel="stylesheet" href="styles/clasificados.css">
    <link rel="stylesheet" href="styles/conocimiento.css">

    <link rel="stylesheet" href="styles/colores.css">
    <link rel="stylesheet" href="styles/stylehelice2.css">
    <link rel="stylesheet" href="styles/desplegables.css">

    <link rel="stylesheet" href="styles/menu.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</head>

<body>

    <!-- Encabezado -->
    <header>
        <div class="header">
            <div onclick="window.location.href='/helice'">
                <!-- <span class="logo-icon">‚ö°</span> -->
                <img src="/img/logo1.png" alt="SINAPTICO" class="logo" style="height:8vh;">
            </div>
            <div style="display: flex; align-items: center; gap: 20px;">
                <div style="font-size:1.5em;cursor:pointer;">
                    <span id="icono-notif">üîî <span
                            style='background:red;color:white;border-radius:50%;padding:2px 7px;font-size:0.9em;'>0</span></span>
                </div>
                <div class="notificaciones" id="notificaciones"></div>


                <div class="dropdown">
                    <button id="userMenuBtn" style="display: flex; align-items: center;">
                        <div id="userPhoto ">
                            <img class="imagenPerfil" id="imagenPerfilSecundaria" src="img/sinfoto.jpg"
                                alt="Foto de perfil" onerror="this.onerror=null;this.src='img/sinfoto.jpg';">

                        </div>
                        <h3 id="nombreUsuarioHeader" style="color:white; margin-left:10px;">Usuario <i
                                class="bi bi-chevron-down"></i> </h3>
                    </button>

                    <div class="dropdown-menu" id="userMenu">
                        <a class="perfilUser" id="perfilUser">Perfil</a>
                        <a id="habilitarMiEmpresa" style="display: none;">Empresa</a>
                        <a href="#" id="cerrarSesion">Cerrar sesi√≥n</a>
                    </div>
                </div>
            </div>
        </div>
        <nav class="nav">

            <button class="nav-button" data-link="/helice" id="inicio"
                onclick="window.location.href='/helice'">Inicio</button>

            <div class="dropdown menuG">
                <button class="nav-button dropdown-btnG" data-link="/directorio">Directorio</button>
                <div class="dropdown-menu dropdown-menuG">
                    <a href="/directorio">Entidades</a>
                    <a href="/directorioPersonas">Personas</a>
                </div>
            </div>
            <button class="nav-button" onclick="window.location.href='/proyectos'"
                data-link="/proyectos">Proyectos</button>
            <button class="nav-button" onclick="window.location.href='/ofertaRegional'"
                data-link="/ofertaRegional">Oferta Regional</button>
            <div class="dropdown menuG">
                <button class="nav-button dropdown-btnG" data-link="/retos">Innovaci√≥n Abierta</button>
                <div class="dropdown-menu dropdown-menuG">
                    <a href="/retosEmpresariales">Retos Empresariales</a>
                    <a href="/retosAula">Retos de Aula</a>
                </div>
            </div>

            <div class="dropdown menuG">
                <button class="nav-button dropdown-btnG" data-link="/conocimiento">Conocimiento Abierto</button>
                <div class="dropdown-menu dropdown-menuG">
                    <a href="/conocimientoCursosVirtuales" data-link="/cursosVirtuales">Cursos</a>
                    <a href="/conocimientoBiblioteca" data-link="/conocimientoBiblioteca">Biblioteca</a>
                </div>
            </div>
            <button class="nav-button" onclick="window.location.href='/convocatorias'">Convocatorias</button>

            <button class="nav-button" onclick="window.location.href='/eventos'">Eventos</button>

            <button class="nav-button" id="btnEvaluador" style="display: none;" data-link="/portalEvaluadorUser"
                onclick="window.location.href='/portalEvaluadorUser'">Evaluaci√≥n</button>

        </nav>

    </header>



    <!-- clasificados Section -->
    <section id="bibliotecaSection" class="main-content" style="display: block;">
        <div class="container" id="bibliotecaConocimiento">
            <section class="page-title">
                <h1>Biblioteca de Conocimiento</h1>
            </section>

            <div class="filter-container" id="filtros">
                <input type="text" id="buscarCurso" placeholder="Nombre recurso" class="filter-input">
            </div>

            <!-- √önico contenedor para todos los Recursos -->
            <div class="grid-container" id="grid-container">
                <div class="grid-item">
                    <div class="card-recurso">
                        <h3 class="card-title">Recurso 1</h3>
                        <p class="card-subtitle">Descripci√≥n breve del Recurso 1</p>
                        <button>Ver m√°s</button>
                    </div>
                </div>

                <div class="grid-item">
                    <div class="card-recurso">
                        <h3 class="card-title">Recurso 2</h3>
                        <p class="card-subtitle">Descripci√≥n breve del Recurso 2</p>
                        <button>Ver m√°s</button>
                    </div>
                </div>

                <div class="grid-item">
                    <div class="card-recurso">
                        <h3 class="card-title">Recurso 3</h3>
                        <p class="card-subtitle">Descripci√≥n breve del Recurso 3</p>
                        <button>Ver m√°s</button>
                    </div>
                </div>
                <div class="grid-item">
                    <div class="card-recurso">
                        <h3 class="card-title">Recurso 3</h3>
                        <p class="card-subtitle">Descripci√≥n breve del Recurso 3</p>
                        <button>Ver m√°s</button>
                    </div>
                </div>
                <div class="grid-item">
                    <div class="card-recurso">
                        <h3 class="card-title">Recurso 3</h3>
                        <p class="card-subtitle">Descripci√≥n breve del recurso 3</p>
                        <button>Ver m√°s</button>
                    </div>
                </div>
                <div class="grid-item">
                    <div class="card-recurso">
                        <h3 class="card-title">Recurso 3</h3>
                        <p class="card-subtitle">Descripci√≥n breve del Recurso 3</p>
                        <button>Ver m√°s</button>
                    </div>
                </div>
                <div class="grid-item">
                    <div class="card-recurso">
                        <h3 class="card-title">Recurso 3</h3>
                        <p class="card-subtitle">Descripci√≥n breve del Recurso 3</p>
                        <button>Ver m√°s</button>
                    </div>
                </div>

            </div>
        </div>

        <div class="container" id="documentosInteres">
            <section class="page-title">
                <h1>Documento de Inter√©s</h1>
            </section>
            <div class="documentos-lista">
                <ul>
                    <li>Guia metodologica</li>
                    <li>Informe Tecnico</li>
                    <li>Politica de Acceso Abierto</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Create classified modal -->
    <div class="modal-backdrop" id="create-classified-modal">
        <div class="modalClasificado">
            <div class="modal-header">
                <h2 class="modal-title">Publicar un nuevo clasificado</h2>
                <p class="modal-description">Completa el formulario para publicar tu clasificado.</p>
            </div>
            <div class="modal-body">
                <form id="create-classified-form">
                    <div class="form-group">
                        <label for="classified-title" class="form-label">T√≠tulo del clasificado</label>
                        <input type="text" id="classified-title" class="form-input"
                            placeholder="Ej: Dise√±o de logotipo profesional" required>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="classified-category" class="form-label">Categor√≠a</label>
                            <select id="classified-category" class="form-select" required>
                                <option value="">Seleccionar categor√≠a</option>
                                <option value="Dise√±o gr√°fico">Dise√±o gr√°fico</option>
                                <option value="Desarrollo web">Desarrollo web</option>
                                <option value="Marketing digital">Marketing digital</option>
                                <option value="Redacci√≥n">Redacci√≥n</option>
                                <option value="Traducci√≥n">Traducci√≥n</option>
                                <option value="Video y animaci√≥n">Video y animaci√≥n</option>
                                <option value="M√∫sica y audio">M√∫sica y audio</option>
                                <option value="Programaci√≥n">Programaci√≥n</option>
                                <option value="Negocios">Negocios</option>
                                <option value="Estilo de vida">Estilo de vida</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="classified-price" class="form-label">Precio/Presupuesto (COP)</label>
                            <input type="text" id="classified-price" class="form-input" placeholder="Ej: 100000"
                                required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="classified-description" class="form-label">Descripci√≥n</label>
                        <textarea id="classified-description" class="form-input form-textarea"
                            placeholder="Describe detalladamente tu servicio o solicitud..." required></textarea>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="classified-delivery" class="form-label">Tiempo de entrega</label>
                            <select id="classified-delivery" class="form-select" required>
                                <option value="">Seleccionar tiempo</option>
                                <option value="24 horas">24 horas</option>
                                <option value="3 d√≠as">3 d√≠as</option>
                                <option value="7 d√≠as">7 d√≠as</option>
                                <option value="14 d√≠as">14 d√≠as</option>
                                <option value="30 d√≠as o m√°s">30 d√≠as o m√°s</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="classified-location" class="form-label">Ubicaci√≥n</label>
                            <input type="text" id="classified-location" class="form-input"
                                placeholder="Ej: Bucaramanga,Colombia" required>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" id="cancel-classified-btn">Cancelar</button>
                <button class="btn btn-primary" id="submit-classified-btn">Publicar clasificado</button>
            </div>
        </div>
    </div>

    <!-- Contact classified modal -->
    <div class="modal-backdrop" id="contact-classified-modal">
        <div class="modalClasificado">
            <div class="modal-header">
                <h2 class="modal-title">Contactar por este clasificado</h2>
                <p class="modal-description">Est√°s contactando por: <span id="contact-classified-title"
                        class="font-medium"></span></p>
            </div>
            <div class="modal-body">
                <form id="contact-classified-form">
                    <div class="form-group">
                        <label for="contact-name" class="form-label">Nombre completo</label>
                        <input type="text" id="contact-name" class="form-input" placeholder="Tu nombre completo"
                            required>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="contact-email" class="form-label">Correo electr√≥nico</label>
                            <input type="email" id="contact-email" class="form-input" placeholder="tu@email.com"
                                required>
                        </div>

                        <div class="form-group">
                            <label for="contact-phone" class="form-label">Tel√©fono</label>
                            <input type="text" id="contact-phone" class="form-input" placeholder="+57 600 000 000">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="contact-message" class="form-label">Mensaje</label>
                        <textarea id="contact-message" class="form-input form-textarea"
                            placeholder="Escribe tu mensaje o propuesta..." required></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" id="cancel-contact-btn">Cancelar</button>
                <button class="btn btn-primary" id="submit-contact-btn">Enviar mensaje</button>
            </div>
        </div>
    </div>

    <script src="/js/cursos.js"></script>
    <script src="/js/config.js"></script>
    <script src="/js/nav.js"></script>
    <script src="js/notificaciones.js"></script>
    <script src="/js/websocket.js"></script>
    <script src="/js/menuGeneral.js"></script>
    <script src="/js/habilitarEvaluador.js"></script>

    <!-- Cargar cursos -->
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const gridContainer = document.getElementById("grid-container");
            const buscarInput = document.getElementById("buscarCurso");

            // Funci√≥n para renderizar Recursos
            function renderCursos(Recursos) {
                gridContainer.innerHTML = ""; // Limpiar contenedor
                Recursos.forEach(recurso => {
                    const card = document.createElement("div");
                    card.className = "grid-item";
                    card.innerHTML = `
                        <div class="card-recurso">
                            <h3 class="card-title">${recurso.nombre}</h3>
                            <p class="card-subtitle">${recurso.descripcion}</p>
                        <button class="action-button" onclick="window.open('recursos/${recurso.ubicacion}', '_blank')">Ver m√°s</button>

                        </div>
                    `;
                    gridContainer.appendChild(card);
                });
            }

            // Obtener Recursos desde la API
            async function cargarCursos() {
                try {
                    const res = await fetch(`/api/recurso`); // Ajusta la URL seg√∫n tu backend
                    const data = await res.json();
                    renderCursos(data);
                } catch (error) {
                    console.error("Error al cargar Recursos:", error);
                }
            }

            // Filtro de b√∫squeda
            buscarInput.addEventListener("input", async () => {
                const texto = buscarInput.value.toLowerCase();
                try {
                    const res = await fetch(`/api/recurso`);
                    const data = await res.json();
                    const filtrados = data.filter(recurso =>
                        recurso.nombre.toLowerCase().includes(texto)
                    );
                    renderCursos(filtrados);
                } catch (error) {
                    console.error("Error al filtrar Recursos:", error);
                }
            });

            // Inicializar
            cargarCursos();
        });
    </script>


</body>

</html>
<div class="busquedaEntidad" id="busquedaEntidad">


    <!-- Contenido principal - Listado -->
    <div id="listado">
        <img src="/logos/${rutaCompleta}" alt="Logo Empresa" class="card-icon"
            onerror="this.onerror=null;this.src='/img/sinfoto.jpg';">
        <h3 class="card-title">${empresa.razonSocial}</h3>
        <p class="card-text">${empresa.actividadEconomica}</p>
        <button class="botonEntidad btnMasInfo" data-id="${empresa.numIdentificacion}" id="intgranteBtn">
            M√°s informaci√≥n
        </button>
    </div>
</div>




modalMapa.style.display = 'block';
toggleViewBtn.textContent = 'üó∫Ô∏è Mapa';
// Estado inicial: modo muro (lista)
let isMuro = true;

toggleViewBtn.addEventListener('click', () => {
isMuro = !isMuro;

if (isMuro) {
// Mostrar muro / lista
busquedaEntidad.style.display = 'block';
modalMapa.style.display = 'none';
toggleViewBtn.textContent = 'üó∫Ô∏è Mapa';


} else {
// Mostrar mapa
busquedaEntidad.style.display = 'none';
modalMapa.style.display = 'block';
toggleViewBtn.textContent = 'üü¶ Muro';
initializeMap();
addColombiaMask();
loadUsers();

}
});


// Funci√≥n para cargar las empresas din√°micamente
function cargarEmpresas(empresas) {
const listado = document.getElementById('listado');
listado.innerHTML = ''; // Limpiar el contenido previo
empresaC = 0;
EstadoC = 0;
SociedadC = 0;
AcademiaesC = 0;
empresas.forEach(empresa => {
if (empresa.habilitado == 1) {

const empresaCard = document.createElement('div');
empresaCard.classList.add('cardinfo');
let rutaCompleta = empresa.logo;
empresaCard.innerHTML = `
<img src="/logos/${rutaCompleta}" alt="Logo Empresa" class="card-icon"
    onerror="this.onerror=null;this.src='/img/sinfoto.jpg';">
<h3 class="card-title">${empresa.razonSocial}</h3>
<p class="card-text">${empresa.actividadEconomica}</p>
<button class="botonEntidad btnMasInfo" data-id="${empresa.numIdentificacion}" id="intgranteBtn">
    M√°s informaci√≥n
</button>



`;

listado.appendChild(empresaCard);

switch (empresa.claseEntidad) {
case "Empresa":
empresaC++;
break;
case "Sociedad":
SociedadC++;
break;
case "Estado":
EstadoC++;
break;
case "Academia":
AcademiaesC++;
break;

default:
break;
}

}
});

if (empresas.length == 0) {
const empresaCard = document.createElement('div');
empresaCard.classList.add('cardinfo');

empresaCard.innerHTML = `
<img src="/logos/sindatos.jpg" alt="Logo Empresa" class="card-icon">
<h3 class="card-title">0 entidades </h3>
`;
listado.appendChild(empresaCard);
}

// document.getElementById("empresaC").innerText = empresaC;
// document.getElementById("SociedadC").innerText = SociedadC;
// document.getElementById("EstadoC").innerText = EstadoC;
// document.getElementById("AcademiaesC").innerText = AcademiaesC;

}